var progress = document.getElementById("animationProgress");
var config = {
  type: "line",
  data: {
    labels: [
      1.03,
      2.03,
      3.03,
      4.03,
      5.03,
      6.03,
      7.03,
      8.03,
      9.03,
      10.03,
      11.03,
      12.03,
      13.03,
      14.03,
      15.03,
      16.03,
      17.03,
      18.03,
      19.03,
      20.03,
      21.03,
      22.03,
      23.03,
      24.03,
      25.03,
      26.03,
      27.03,
      28.03,
      29.03,
      30.03,
      31.03,
      1.04,
      2.04,
      3.04,
      4.04,
      5.04,
      6.04,
      7.04,
      8.04,
      9.04,
      10.04,
      11.04,
      12.04,
      13.04,
      14.04,
      15.04,
      16.04,
      17.04,
      18.04,
      19.04,
      20.04,
      21.04,
      22.04,
    ],
    datasets: [
      {
        label: "Broj zaraženih",
        fill: false,
        borderColor: window.chartColors.red,
        backgroundColor: window.chartColors.red,
        data: [
          0,
          0,
          0,
          0,
          2,
          2,
          3,
          3,
          3,
          5,
          7,
          11,
          13,
          18,
          24,
          25,
          26,
          38,
          63,
          89,
          93,
          126,
          136,
          166,
          176,
          191,
          237,
          258,
          323,
          368,
          420,
          459,
          533,
          579,
          617,
          656,
          674,
          768,
          804,
          859,
          886,
          946,
          1009,
          1037,
          1083,
          1110,
          1167,
          1214,
          1268,
          1285,
          1309,
          1342,
          1368,
        ],
      },
      {
        label: "Broj oporavljenih",
        fill: false,
        borderColor: window.chartColors.blue,
        backgroundColor: window.chartColors.blue,
        data: [
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          5,
          5,
          8,
          17,
          17,
          19,
          20,
          27,
          28,
          30,
          47,
          68,
          79,
          101,
          129,
          139,
          193,
          206,
          236,
          253,
          277,
          320,
          338,
          347,
          381,
          437,
          460,
        ],
      },
      {
        label: "Broj preminulih",
        fill: false,
        borderColor: window.chartColors.yellow,
        backgroundColor: window.chartColors.yellow,
        data: [
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          1,
          1,
          3,
          3,
          3,
          4,
          5,
          6,
          10,
          13,
          13,
          16,
          17,
          21,
          24,
          29,
          33,
          34,
          35,
          36,
          37,
          39,
          39,
          40,
          41,
          43,
          46,
          47,
          48,
          49,
          51,
          53,
        ],
      },
    ],
  },
  options: {
    title: {
      display: true,
      text: "Prikaz rasta broja zaraženih",
    },
    animation: {
      duration: 3000,
      onProgress: function (animation) {
        progress.value = animation.currentStep / animation.numSteps;
      },
      onComplete: function () {
        window.setTimeout(function () {
          progress.value = 0;
        }, 2000);
      },
    },
  },
};

window.onload = function () {
  var ctx = document.getElementById("canvas").getContext("2d");
  window.myLine = new Chart(ctx, config);
};
